---
interface Props {
	date: Date;
	granularity?: "day" | "month"
}

const optionsByGranularity = {
	'day': {
		year: 'numeric',
		month: 'short',
		day: 'numeric'
	},
	'month': {
		year: 'numeric',
		month: 'long'
	}
} as const;

const { date, granularity = 'day' } = Astro.props;
---

<time datetime={date.toISOString()}>
	{
		date.toLocaleDateString('en-us', optionsByGranularity[granularity])
	}
</time>
